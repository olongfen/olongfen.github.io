<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>olongfen dev note</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-5ea33731.css" as="style"><link rel="stylesheet" href="/assets/style-5ea33731.css">
    <link rel="modulepreload" href="/assets/app-e9d335a5.js"><link rel="modulepreload" href="/assets/gdal.html-8b4bb765.js"><link rel="modulepreload" href="/assets/gdal.html-6a94b317.js"><link rel="prefetch" href="/assets/index.html-bdf142f5.js" as="script"><link rel="prefetch" href="/assets/index.html-4b96a0d4.js" as="script"><link rel="prefetch" href="/assets/docker-compose.html-e6dde0f7.js" as="script"><link rel="prefetch" href="/assets/index.html-e570f52a.js" as="script"><link rel="prefetch" href="/assets/install.html-5ceae370.js" as="script"><link rel="prefetch" href="/assets/ascii.html-02217b98.js" as="script"><link rel="prefetch" href="/assets/gis_detail.html-0942d52b.js" as="script"><link rel="prefetch" href="/assets/index.html-61783a4b.js" as="script"><link rel="prefetch" href="/assets/ogr.html-4d002d96.js" as="script"><link rel="prefetch" href="/assets/spatialite.html-272d99d5.js" as="script"><link rel="prefetch" href="/assets/golang.html-e6beae21.js" as="script"><link rel="prefetch" href="/assets/golang_ddd.html-437f96f9.js" as="script"><link rel="prefetch" href="/assets/gotcp.html-fbdfd41e.js" as="script"><link rel="prefetch" href="/assets/index.html-475146a3.js" as="script"><link rel="prefetch" href="/assets/sort.html-6db4b2b1.js" as="script"><link rel="prefetch" href="/assets/time.html-dd73268b.js" as="script"><link rel="prefetch" href="/assets/index.html-4f5936f8.js" as="script"><link rel="prefetch" href="/assets/base.html-203ae60f.js" as="script"><link rel="prefetch" href="/assets/cmd.html-85832e76.js" as="script"><link rel="prefetch" href="/assets/fedora.html-1d2af788.js" as="script"><link rel="prefetch" href="/assets/index.html-f6d56f13.js" as="script"><link rel="prefetch" href="/assets/ovirt4.3_centos7.html-7a2bd7fa.js" as="script"><link rel="prefetch" href="/assets/ubuntu.html-f5e33fb3.js" as="script"><link rel="prefetch" href="/assets/ubuntu_daily_note.html-203312fd.js" as="script"><link rel="prefetch" href="/assets/index.html-6bbebe0f.js" as="script"><link rel="prefetch" href="/assets/wti_day.html-523e787b.js" as="script"><link rel="prefetch" href="/assets/ymx.html-3edb7038.js" as="script"><link rel="prefetch" href="/assets/index.html-6c54f6ba.js" as="script"><link rel="prefetch" href="/assets/index.html-fda946dd.js" as="script"><link rel="prefetch" href="/assets/index.html-ea684979.js" as="script"><link rel="prefetch" href="/assets/index.html-1e0645a6.js" as="script"><link rel="prefetch" href="/assets/mysql.html-b5e70e9e.js" as="script"><link rel="prefetch" href="/assets/index.html-213deddf.js" as="script"><link rel="prefetch" href="/assets/note.html-3e0155fd.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-da65e476.js" as="script"><link rel="prefetch" href="/assets/index.html-5870be88.js" as="script"><link rel="prefetch" href="/assets/docker-compose.html-54657c89.js" as="script"><link rel="prefetch" href="/assets/index.html-39d752f0.js" as="script"><link rel="prefetch" href="/assets/install.html-ac57f068.js" as="script"><link rel="prefetch" href="/assets/ascii.html-ed491f9c.js" as="script"><link rel="prefetch" href="/assets/gis_detail.html-a6348ef7.js" as="script"><link rel="prefetch" href="/assets/index.html-2ccb7d5f.js" as="script"><link rel="prefetch" href="/assets/ogr.html-de6063dd.js" as="script"><link rel="prefetch" href="/assets/spatialite.html-bda0bf69.js" as="script"><link rel="prefetch" href="/assets/golang.html-72bb0656.js" as="script"><link rel="prefetch" href="/assets/golang_ddd.html-790aaee1.js" as="script"><link rel="prefetch" href="/assets/gotcp.html-4bcb8851.js" as="script"><link rel="prefetch" href="/assets/index.html-82292923.js" as="script"><link rel="prefetch" href="/assets/sort.html-a346cebd.js" as="script"><link rel="prefetch" href="/assets/time.html-9d6c6e68.js" as="script"><link rel="prefetch" href="/assets/index.html-42347bac.js" as="script"><link rel="prefetch" href="/assets/base.html-c15487f3.js" as="script"><link rel="prefetch" href="/assets/cmd.html-af2b6175.js" as="script"><link rel="prefetch" href="/assets/fedora.html-a798e20f.js" as="script"><link rel="prefetch" href="/assets/index.html-a65abdab.js" as="script"><link rel="prefetch" href="/assets/ovirt4.3_centos7.html-6d281027.js" as="script"><link rel="prefetch" href="/assets/ubuntu.html-12ac74b4.js" as="script"><link rel="prefetch" href="/assets/ubuntu_daily_note.html-721f69e9.js" as="script"><link rel="prefetch" href="/assets/index.html-ba60a0e9.js" as="script"><link rel="prefetch" href="/assets/wti_day.html-46b4a40a.js" as="script"><link rel="prefetch" href="/assets/ymx.html-e33158b3.js" as="script"><link rel="prefetch" href="/assets/index.html-c6087248.js" as="script"><link rel="prefetch" href="/assets/index.html-4cae5d64.js" as="script"><link rel="prefetch" href="/assets/index.html-14fcde35.js" as="script"><link rel="prefetch" href="/assets/index.html-f7ebc89e.js" as="script"><link rel="prefetch" href="/assets/mysql.html-1024838e.js" as="script"><link rel="prefetch" href="/assets/index.html-3953984f.js" as="script"><link rel="prefetch" href="/assets/note.html-f6fabac5.js" as="script"><link rel="prefetch" href="/assets/404.html-a2c79ae1.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="olongfen dev note"><span class="site-name can-hide">olongfen dev note</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/go/" class="" aria-label="GOLANG"><!--[--><!--]--> GOLANG <!--[--><!--]--></a></div><div class="navbar-item"><a href="/python/" class="" aria-label="PYTHON"><!--[--><!--]--> PYTHON <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docker/" class="" aria-label="DOCKER"><!--[--><!--]--> DOCKER <!--[--><!--]--></a></div><div class="navbar-item"><a href="/linux/" class="" aria-label="LINUX"><!--[--><!--]--> LINUX <!--[--><!--]--></a></div><div class="navbar-item"><a href="/k8s/" class="" aria-label="K8S"><!--[--><!--]--> K8S <!--[--><!--]--></a></div><div class="navbar-item"><a href="/sql/" class="" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a></div><div class="navbar-item"><a href="/gis/" class="router-link-active" aria-label="GIS"><!--[--><!--]--> GIS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/db-system-engineer/" class="" aria-label="数据库系统工程师笔记"><!--[--><!--]--> 数据库系统工程师笔记 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/olongfen/olongfen.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/go/" class="" aria-label="GOLANG"><!--[--><!--]--> GOLANG <!--[--><!--]--></a></div><div class="navbar-item"><a href="/python/" class="" aria-label="PYTHON"><!--[--><!--]--> PYTHON <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docker/" class="" aria-label="DOCKER"><!--[--><!--]--> DOCKER <!--[--><!--]--></a></div><div class="navbar-item"><a href="/linux/" class="" aria-label="LINUX"><!--[--><!--]--> LINUX <!--[--><!--]--></a></div><div class="navbar-item"><a href="/k8s/" class="" aria-label="K8S"><!--[--><!--]--> K8S <!--[--><!--]--></a></div><div class="navbar-item"><a href="/sql/" class="" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a></div><div class="navbar-item"><a href="/gis/" class="router-link-active" aria-label="GIS"><!--[--><!--]--> GIS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/db-system-engineer/" class="" aria-label="数据库系统工程师笔记"><!--[--><!--]--> 数据库系统工程师笔记 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/olongfen/olongfen.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/gis/gis_detail" class="sidebar-item sidebar-heading" aria-label="GIS_Detail"><!--[--><!--]--> GIS_Detail <!--[--><!--]--></a><!----></li><li><a href="/gis/gdal" class="router-link-active sidebar-item sidebar-heading active" aria-label="GDAL"><!--[--><!--]--> GDAL <!--[--><!--]--></a><!----></li><li><a href="/gis/ogr" class="sidebar-item sidebar-heading" aria-label="OGR"><!--[--><!--]--> OGR <!--[--><!--]--></a><!----></li><li><a href="/gis/spatialite" class="sidebar-item sidebar-heading" aria-label="spatialite"><!--[--><!--]--> spatialite <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="gdal数据模型" tabindex="-1"><a class="header-anchor" href="#gdal数据模型" aria-hidden="true">#</a> GDAL数据模型</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    1、重要三概念：数据集、栅格波段、颜色表。
    2、一个数据集是相关的栅格波段和一些相关的信息的集合。负责所有波段的地理参考定义和坐标定义。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据集放射地理转换" tabindex="-1"><a class="header-anchor" href="#数据集放射地理转换" aria-hidden="true">#</a> 数据集放射地理转换</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    常用放射变换表示栅格位置和地理参考坐标之间的关系。放射变换包含留个参数。
    GDALDateset.GetGeoTransform()返回。
    Xgeo = GT(0) + Xpixel*GT(1) + Yline*GT(2)
    Ygeo = GT(3) + Xpixel*GT(4) + Yline*GT(5)
    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gdal读取栅格的基本信息" tabindex="-1"><a class="header-anchor" href="#gdal读取栅格的基本信息" aria-hidden="true">#</a> GDAL读取栅格的基本信息</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token triple-quoted-string string">&#39;&#39;&#39;
gt[0] 栅格左上角横坐标
gt[3] 栅格左上角纵坐标
gt[2],gt[4] 对应上北下南，没有发生旋转值为0
gt[1] 栅格水平空间分辨率
gt[5] 栅格垂直空间分辨率
通常情况下gt[1]和gt[5]相等

&#39;&#39;&#39;</span>
<span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal

ds <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Open<span class="token punctuation">(</span><span class="token string">&#39;learn.tif&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># 输出栅格的描述信息</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ds<span class="token punctuation">.</span>GetDescription<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 获取栅格数据集的波段数</span>
raster_count <span class="token operator">=</span> ds<span class="token punctuation">.</span>RasterCount
<span class="token keyword">print</span><span class="token punctuation">(</span>raster_count<span class="token punctuation">)</span>
<span class="token comment"># 获取提一个波段</span>
band <span class="token operator">=</span> ds<span class="token punctuation">.</span>GetRasterBand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 波段类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>band<span class="token punctuation">.</span>DataType<span class="token punctuation">)</span>
<span class="token comment"># 波段大小</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>band<span class="token punctuation">.</span>XSize<span class="token punctuation">,</span>band<span class="token punctuation">.</span>YSize<span class="token punctuation">)</span>
<span class="token comment"># 波段数据的属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>band<span class="token punctuation">.</span>GetNoDataValue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Maximum 是表示在本波段数值中最大的值,Minimum就是表示本波段中最小的值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>band<span class="token punctuation">.</span>GetMaximum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>band<span class="token punctuation">.</span>GetMinimum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>band<span class="token punctuation">.</span>ComputeRasterMinMax<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 栅格数据的宽度</span>
x_size <span class="token operator">=</span> ds<span class="token punctuation">.</span>RasterXSize
<span class="token comment"># 栅格数据的高度</span>
y_size <span class="token operator">=</span> ds<span class="token punctuation">.</span>RasterYSize
<span class="token keyword">print</span><span class="token punctuation">(</span>x_size<span class="token punctuation">,</span>y_size<span class="token punctuation">)</span>
<span class="token comment"># 获取栅格的6个参数</span>
gt  <span class="token operator">=</span> ds<span class="token punctuation">.</span>GetGeoTransform<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 左上角</span>
ul_x <span class="token operator">=</span> gt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
ul_y <span class="token operator">=</span> gt<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment"># 右下角</span>
lr_x  <span class="token operator">=</span> gt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> x_size<span class="token operator">*</span>gt<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> y_size<span class="token operator">*</span>gt<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
lr_y <span class="token operator">=</span> gt<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> x_size<span class="token operator">*</span>gt<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">+</span> y_size<span class="token operator">*</span>gt<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ul_x<span class="token punctuation">,</span>ul_y<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>lr_x<span class="token punctuation">,</span>lr_y<span class="token punctuation">)</span>
<span class="token comment"># 栅格数据的投影</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ds<span class="token punctuation">.</span>GetProjection<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 读取栅格元数据</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ds<span class="token punctuation">.</span>GetMetadata<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>gt<span class="token punctuation">)</span>

<span class="token comment"># print out (114.11064773797989, 2.682209014892578e-06, 0.0, 22.29586511850357, 0.0, -2.682209014892578e-06)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gdal-创建栅格影像" tabindex="-1"><a class="header-anchor" href="#gdal-创建栅格影像" aria-hidden="true">#</a> GDAL 创建栅格影像</h3><ul><li>创建单波段影像</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal<span class="token punctuation">,</span>osr
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token comment"># 设置驱动</span>
driver <span class="token operator">=</span> gdal<span class="token punctuation">.</span>GetDriverByName<span class="token punctuation">(</span><span class="token string">&#39;GTiff&#39;</span><span class="token punctuation">)</span>
filename <span class="token operator">=</span> <span class="token string">&#39;ddd.tif&#39;</span>
w<span class="token punctuation">,</span>h <span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span>
<span class="token comment"># 波段个数</span>
bands<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 数据类型</span>
t <span class="token operator">=</span> gdal<span class="token punctuation">.</span>GDT_Byte
<span class="token comment"># 创建tif数据</span>
ds <span class="token operator">=</span> driver<span class="token punctuation">.</span>Create<span class="token punctuation">(</span>filename<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">,</span>bands<span class="token punctuation">,</span>t<span class="token punctuation">)</span>
<span class="token comment"># 设置栅格六参数,这里随便设置而已</span>
ds<span class="token punctuation">.</span>SetGeoTransform<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">153312</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">451343</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 空间参考</span>
srs <span class="token operator">=</span> osr<span class="token punctuation">.</span>SpatialReference<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 生成具有给定 UTM 区域的全套横向墨卡托投影参数的投影定义</span>
srs<span class="token punctuation">.</span>SetUTM<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 设置 GeogCS</span>
srs<span class="token punctuation">.</span>SetWellKnownGeogCS<span class="token punctuation">(</span><span class="token string">&#39;WGS84&#39;</span><span class="token punctuation">)</span>
<span class="token comment"># 设置栅格投影</span>
ds<span class="token punctuation">.</span>SetProjection<span class="token punctuation">(</span>srs<span class="token punctuation">.</span>ExportToWkt<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 生成raster数据</span>
raster <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">138</span>
ds<span class="token punctuation">.</span>GetRasterBand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>WriteArray<span class="token punctuation">(</span>raster<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Pillow与GDAL读取数据的转换</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal<span class="token punctuation">,</span>osr
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image

ds <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Open<span class="token punctuation">(</span><span class="token string">&#39;demo.tif&#39;</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> ds<span class="token punctuation">.</span>ReadRaster<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>


im <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;demo.tif&quot;</span><span class="token punctuation">)</span>
region <span class="token operator">=</span> im<span class="token punctuation">.</span>crop<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>region<span class="token punctuation">.</span>tobytes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 转成PIL格式</span>
datas <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> data<span class="token punctuation">]</span>
datas <span class="token operator">=</span> <span class="token punctuation">[</span>np<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> data<span class="token punctuation">]</span>
datas <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span>datas<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datas<span class="token punctuation">.</span>tostring<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常用gdal-指令" tabindex="-1"><a class="header-anchor" href="#常用gdal-指令" aria-hidden="true">#</a> 常用GDAL 指令</h2><h3 id="gdalwrap-截取gtiff" tabindex="-1"><a class="header-anchor" href="#gdalwrap-截取gtiff" aria-hidden="true">#</a> gdalwrap 截取GTiff</h3><ul><li>shell</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gdalwarp <span class="token parameter variable">-t_srs</span> EPSG:4326 <span class="token parameter variable">-te</span> <span class="token number">114.14943</span> <span class="token number">22.30447</span> <span class="token number">114.15556</span> <span class="token number">22.31311</span> <span class="token parameter variable">-of</span> JPEG demo.tif out.png
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>python</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal
<span class="token keyword">except</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> gdal
<span class="token keyword">import</span> os

<span class="token keyword">def</span> <span class="token function">wrapTiff</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> dest_tif<span class="token punctuation">,</span> dest_img<span class="token punctuation">,</span> outputBounds<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># gdalwarp -t_srs EPSG:4326 -te 114.14943 22.30447 114.15556 22.31311 -of JPEG 油尖旺区_卫图_20181004_Level_19.tif out.png</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        dirName<span class="token punctuation">,</span> filename <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>split<span class="token punctuation">(</span>dest_tif<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>dirName<span class="token punctuation">)</span><span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>dirName<span class="token punctuation">)</span>
        opt <span class="token operator">=</span> gdal<span class="token punctuation">.</span>WarpOptions<span class="token punctuation">(</span>outputBounds<span class="token operator">=</span>outputBounds<span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&#39;MEM&#39;</span><span class="token punctuation">,</span> dstSRS<span class="token operator">=</span><span class="token string">&quot;EPSG:4326&quot;</span><span class="token punctuation">)</span>
        ds <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Warp<span class="token punctuation">(</span>dest_tif<span class="token punctuation">,</span> source<span class="token punctuation">,</span> options<span class="token operator">=</span>opt<span class="token punctuation">)</span>
        driver <span class="token operator">=</span> gdal<span class="token punctuation">.</span>GetDriverByName<span class="token punctuation">(</span><span class="token string">&quot;GTiff&quot;</span><span class="token punctuation">)</span>
        driver<span class="token punctuation">.</span>CreateCopy<span class="token punctuation">(</span>dest_tif<span class="token punctuation">,</span> ds<span class="token punctuation">)</span>

        ds <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Warp<span class="token punctuation">(</span>dest_img<span class="token punctuation">,</span> source<span class="token punctuation">,</span> options<span class="token operator">=</span>opt<span class="token punctuation">)</span>
        driver <span class="token operator">=</span> gdal<span class="token punctuation">.</span>GetDriverByName<span class="token punctuation">(</span><span class="token string">&quot;JPEG&quot;</span><span class="token punctuation">)</span>
        driver<span class="token punctuation">.</span>CreateCopy<span class="token punctuation">(</span>dest_img<span class="token punctuation">,</span> ds<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gdal2tiles-gtiff文件转成raster瓦片指令" tabindex="-1"><a class="header-anchor" href="#gdal2tiles-gtiff文件转成raster瓦片指令" aria-hidden="true">#</a> gdal2tiles GTiff文件转成raster瓦片指令 <br></h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gdal2tiles.py <span class="token parameter variable">--xyz</span>  <span class="token parameter variable">-z</span> <span class="token number">1</span>-19  <span class="token parameter variable">-p</span> mercator <span class="token parameter variable">-w</span> all <span class="token parameter variable">-r</span> average <span class="token parameter variable">-s</span> EPSG:4326 <span class="token parameter variable">-a</span> <span class="token number">0.0</span> <span class="token parameter variable">--processes</span><span class="token operator">=</span><span class="token number">6</span> input.tif output_dir
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="gdal-translate" tabindex="-1"><a class="header-anchor" href="#gdal-translate" aria-hidden="true">#</a> gdal_translate <br></h3><ul><li>shell</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># jpg、png 转成geo tiff</span>
gdal_translate <span class="token parameter variable">-of</span> GTiff <span class="token parameter variable">-a_srs</span> EPSG:4326 <span class="token parameter variable">-a_ullr</span>  ulx uly lrx lry  input.jpg  out.tif

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>python</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal
<span class="token keyword">except</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> gdal
<span class="token keyword">import</span> os
<span class="token keyword">def</span> <span class="token function">tiff2png</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> out<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        ds <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Open<span class="token punctuation">(</span>source<span class="token punctuation">)</span>
        info <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Info<span class="token punctuation">(</span>ds<span class="token operator">=</span>ds<span class="token punctuation">,</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&#39;json&#39;</span><span class="token punctuation">)</span>
        center <span class="token operator">=</span> info<span class="token punctuation">[</span><span class="token string">&#39;cornerCoordinates&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;center&#39;</span><span class="token punctuation">]</span>
        opt <span class="token operator">=</span> gdal<span class="token punctuation">.</span>TranslateOptions<span class="token punctuation">(</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&#39;PNG&#39;</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">1024</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">1024</span><span class="token punctuation">)</span>
        gdal<span class="token punctuation">.</span>Translate<span class="token punctuation">(</span>out<span class="token punctuation">,</span> source<span class="token punctuation">,</span> options<span class="token operator">=</span>opt<span class="token punctuation">)</span>
        center_str <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>center<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&quot;,&quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>center<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> center_str
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="图像波段切换" tabindex="-1"><a class="header-anchor" href="#图像波段切换" aria-hidden="true">#</a> 图像波段切换</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 图像波段变换</span>
<span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal_array
src <span class="token operator">=</span> <span class="token string">&#39;data/FalseColor.tif&#39;</span>
arr <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>LoadFile<span class="token punctuation">(</span>src<span class="token punctuation">)</span>
output <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>SaveArray<span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;data/swap.tif&#39;</span><span class="token punctuation">,</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&#39;GTiff&#39;</span><span class="token punctuation">,</span>prototype<span class="token operator">=</span>src<span class="token punctuation">)</span>
output<span class="token operator">=</span><span class="token boolean">None</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="图像分类" tabindex="-1"><a class="header-anchor" href="#图像分类" aria-hidden="true">#</a> 图像分类</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 图像分类</span>
<span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal_array
src <span class="token operator">=</span> <span class="token string">&#39;data/thermal/thermal.tif&#39;</span>
tgt <span class="token operator">=</span> <span class="token string">&#39;data/thermal/classified.jpg&#39;</span>

src_arr <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>LoadFile<span class="token punctuation">(</span>src<span class="token punctuation">)</span>
<span class="token comment"># 根据类别数目把直方图分割成20个颜色区间</span>
classes <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>histogram<span class="token punctuation">(</span>src_arr<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment"># 颜色查找表的记录必须为len(classes) +1</span>
<span class="token comment"># R G B元组</span>
lut <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">166</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">155</span><span class="token punctuation">,</span> <span class="token number">155</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">113</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">178</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">153</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">155</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">166</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">184</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># 分割初始值</span>
start <span class="token operator">=</span> <span class="token number">1</span>
p <span class="token operator">=</span> <span class="token number">0</span>
<span class="token comment"># 创建一个RGB颜色的JPEG输出图片</span>
rgb <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>src_arr<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>src_arr<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>
<span class="token comment"># 处理所有类并声明颜色</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>classes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 获取标记的信息</span>
    mask <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>logical_and<span class="token punctuation">(</span>start <span class="token operator">&lt;=</span>src_arr<span class="token punctuation">,</span>src_arr<span class="token operator">&lt;=</span>classes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>lut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 选择标记数据</span>
        rgb<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>choose<span class="token punctuation">(</span>mask<span class="token punctuation">,</span> <span class="token punctuation">(</span>rgb<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>lut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        p <span class="token operator">=</span>p<span class="token operator">+</span><span class="token number">1</span>
    start <span class="token operator">=</span> classes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span>
output <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>SaveArray<span class="token punctuation">(</span>rgb<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">,</span>tgt<span class="token punctuation">,</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&#39;JPEG&#39;</span><span class="token punctuation">)</span>
output <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="特征提取" tabindex="-1"><a class="header-anchor" href="#特征提取" aria-hidden="true">#</a> 特征提取</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 图像特征提取</span>
<span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal_array
src <span class="token operator">=</span> <span class="token string">&#39;data/islands/islands.tif&#39;</span>
tgt <span class="token operator">=</span> <span class="token string">&#39;data/islands/islands_classified.tif&#39;</span>
<span class="token comment"># 加载tif</span>
src_arr <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>LoadFile<span class="token punctuation">(</span>src<span class="token punctuation">)</span>
<span class="token comment"># 根据类别数目把直方图分割成20个颜色区间</span>
classes <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>histogram<span class="token punctuation">(</span>src_arr<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
lut <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>
<span class="token comment"># 分类起始</span>
start <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment"># 建立输出图片</span>
rgb <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> src_arr<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> src_arr<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>

<span class="token comment"># 处理所有类别并分配颜色</span>
<span class="token keyword">for</span> i  <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>classes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    mask <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>logical_and<span class="token punctuation">(</span>start<span class="token operator">&lt;=</span>src_arr<span class="token punctuation">,</span>  src_arr<span class="token operator">&lt;=</span>classes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>lut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        rgb<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>choose<span class="token punctuation">(</span>mask<span class="token punctuation">,</span> <span class="token punctuation">(</span>rgb<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> lut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
    start <span class="token operator">=</span> classes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span>

output <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>SaveArray<span class="token punctuation">(</span>rgb<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>gdal_array<span class="token punctuation">.</span>numpy<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">,</span> tgt<span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&#39;GTiff&#39;</span> <span class="token punctuation">)</span>
output <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>特征提取出shapefile</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal<span class="token punctuation">,</span> ogr<span class="token punctuation">,</span> osr
 
<span class="token comment"># 阈值化后的输出栅格文件名称</span>
src <span class="token operator">=</span> <span class="token string">&quot;data/islands/islands_classified.tif&quot;</span>
<span class="token comment"># 输出的shapefile文件名称</span>
tgt <span class="token operator">=</span> <span class="token string">&quot;data/islands/extract.shp&quot;</span>
<span class="token comment"># 图层名称</span>
tgtLayer <span class="token operator">=</span> <span class="token string">&quot;extract&quot;</span>
<span class="token comment"># 打开输入的栅格文件</span>
srcDS <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Open<span class="token punctuation">(</span>src<span class="token punctuation">)</span>
<span class="token comment"># 获取第一个波段</span>
band <span class="token operator">=</span> srcDS<span class="token punctuation">.</span>GetRasterBand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 让gdal库使用该波段作为遮罩层</span>
mask <span class="token operator">=</span> band
<span class="token comment"># 创建输出的shapefile文件</span>
driver <span class="token operator">=</span> ogr<span class="token punctuation">.</span>GetDriverByName<span class="token punctuation">(</span><span class="token string">&quot;ESRI Shapefile&quot;</span><span class="token punctuation">)</span>
shp <span class="token operator">=</span> driver<span class="token punctuation">.</span>CreateDataSource<span class="token punctuation">(</span>tgt<span class="token punctuation">)</span>
<span class="token comment"># 拷贝空间索引</span>
srs <span class="token operator">=</span> osr<span class="token punctuation">.</span>SpatialReference<span class="token punctuation">(</span><span class="token punctuation">)</span>
srs<span class="token punctuation">.</span>ImportFromWkt<span class="token punctuation">(</span>srcDS<span class="token punctuation">.</span>GetProjectionRef<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
layer <span class="token operator">=</span> shp<span class="token punctuation">.</span>CreateLayer<span class="token punctuation">(</span>tgtLayer<span class="token punctuation">,</span> srs<span class="token operator">=</span>srs<span class="token punctuation">)</span>
<span class="token comment"># 创建dbf文件</span>
fd <span class="token operator">=</span> ogr<span class="token punctuation">.</span>FieldDefn<span class="token punctuation">(</span><span class="token string">&quot;DN&quot;</span><span class="token punctuation">,</span> ogr<span class="token punctuation">.</span>OFTInteger<span class="token punctuation">)</span>
layer<span class="token punctuation">.</span>CreateField<span class="token punctuation">(</span>fd<span class="token punctuation">)</span>
dst_field <span class="token operator">=</span> <span class="token number">0</span>
<span class="token comment"># 从图片中自动提取特征</span>
extract <span class="token operator">=</span> gdal<span class="token punctuation">.</span>Polygonize<span class="token punctuation">(</span>band<span class="token punctuation">,</span> mask<span class="token punctuation">,</span> layer<span class="token punctuation">,</span> dst_field<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="变化检测" tabindex="-1"><a class="header-anchor" href="#变化检测" aria-hidden="true">#</a> 变化检测</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 变化检测</span>
<span class="token keyword">from</span> osgeo <span class="token keyword">import</span> gdal<span class="token punctuation">,</span> gdal_array
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
 
<span class="token comment"># 飓风前影像</span>
img1 <span class="token operator">=</span> <span class="token string">&quot;./data/before/before.tif&quot;</span>
<span class="token comment"># 飓风后影像</span>
img2 <span class="token operator">=</span> <span class="token string">&quot;./data/after/after.tif&quot;</span>
 
<span class="token comment"># 将上述图像载入数组</span>
arr1 <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>LoadFile<span class="token punctuation">(</span>img1<span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int8<span class="token punctuation">)</span>
arr2 <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>LoadFile<span class="token punctuation">(</span>img2<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int8<span class="token punctuation">)</span>
 
<span class="token comment"># 在图片数组上执行差值操作</span>
diff <span class="token operator">=</span> arr2 <span class="token operator">-</span> arr1
 
<span class="token comment"># 建立类别架构并将变化特征隔离</span>
classes <span class="token operator">=</span> np<span class="token punctuation">.</span>histogram<span class="token punctuation">(</span>diff<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
 
<span class="token comment"># 用黑色遮罩不是特变明显的变化特征</span>
lut <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># 类别初始值</span>
start <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment"># 创建输出图片</span>
rgb <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> diff<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> diff<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>int8<span class="token punctuation">)</span>
 
<span class="token comment"># 处理所有类别并配色</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>classes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    mask <span class="token operator">=</span> np<span class="token punctuation">.</span>logical_and<span class="token punctuation">(</span>start <span class="token operator">&lt;=</span> diff<span class="token punctuation">,</span> diff <span class="token operator">&lt;=</span> classes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>lut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        rgb<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>choose<span class="token punctuation">(</span>mask<span class="token punctuation">,</span> <span class="token punctuation">(</span>rgb<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> lut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    start <span class="token operator">=</span> classes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
 
<span class="token comment"># 保存图片结果</span>
output <span class="token operator">=</span> gdal_array<span class="token punctuation">.</span>SaveArray<span class="token punctuation">(</span>rgb<span class="token punctuation">,</span> <span class="token string">&quot;data/change.tif&quot;</span><span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&quot;GTiff&quot;</span><span class="token punctuation">,</span> prototype<span class="token operator">=</span>img2<span class="token punctuation">)</span>
output <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/olongfen/olongfen.github.io/edit/master/docs/gis/gdal.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 824426699@qq.com">olongfen</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: olongfen">olongfen</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-e9d335a5.js" defer></script>
  </body>
</html>
